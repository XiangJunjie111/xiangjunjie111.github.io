---
title: 4001ch3&ch4
date: 2020-08-18 16:38:04
tags: csc4001


---

[TOC]

# Topic 3 Agile software development

大多软件系统要求rapid development and delivery，但plan-driven development不满足这个需求。

**Agile:**

- Program specification, design and implementation are inter-leaved.

- The system is developed as a series of version.

- Frequent delivery of new versions for evaluation.

- Extensive tool support used to support development. (Automated testing tools)

- Minimal documentation - focus on working code

  ![image-20200816173127140](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816173127140.png?lastModify=1597739918)

**Plan-driven:** separate development stage

**Agile:** interleaved

### Agile methods

**Aim of agile methods:** 

- Reduce overheads in SW process
- Be able to resond quickly to changing requirements without excessive re-work

#### Agile manifesto

- Individuals and interactions over processes and tools
- Working software over comprehensive documentation
- Customer collaboration over contract negotiation
- Responding to change over following a plan

#### Priciples of agile methods

![image-20200816174449328](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816174449328.png?lastModify=1597739918)

#### 主要应用于

- Product development: a small/medium-sized product for scale
- Custome system development within an organization: customer summit to involve in the development process and there are few external rules and regulations.

### Agile development techniques

#### Extreme Programming

**A very influential agile method**

**Extreme Programming (XP) takes an ‘extreme’ approach to iterative development**

![image-20200816190652453](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816190652453.png?lastModify=1597739918)

**XP practices**

![image-20200816191150479](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816191150479.png?lastModify=1597739918)

![image-20200816191203860](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816191203860.png?lastModify=1597739918)

**XP and agile principles:** P43

XP 很难作为一种实用的敏捷方法，敏捷开发采用XP实践，但不会完整地采用它。

**Key practices**:

##### - User stories for specification

User requirements are expressed as user stories or scenarios.

These are written on cards and the development team break them down into implementation tasks.

##### - Refactoring

changes cannot be reliably anticipated. Rather, it proposes constant code improvement (**refactoring**) to make changes easier when they have to be implemented.

当看到可以改进的代码时，马上实施改进，即使这一改进并不紧迫。

当有的changes需要architecture refactoring时会更贵。

**例子**：

- 重构类的继承，去除重复代码
- 对属性和方法整理并重命名
- 通过调用程序库中定义的方法来代替代码

##### - Test-first development

**Testing is central to XP**

**XP testing features:**

- Test-first development
  -  Writing tests before code clarifies the requirements to be implemented.
  - Tests are written as programs rather than data so that they can be executed automatically.
  - 没有新功能增加，所有之前的和新的测试都会自动跑一遍。
- Incremental test development from scenarios
- User involvement in test development and validation
  - 帮助开发将在下一个开发中实现的user story 的acceptance test
- Automated test harnesses are used to run all component tests each time that a new release is built
  - Test automation means that tests are written as executable components **before the task is implemented**
  - there is always a set of tests that can be quickly and easily executed

**Problems**

- 程序员更喜欢编程而不是测试（可能在编写测试时走捷径，导致无法检查到一些异常情况）
- Some tests can be very difficult to write incrementally. (在复杂的UI中，为实现一些显示逻辑和屏幕见工作流的代码写测试会很困难)
- It difficult to judge the completeness of a set of tests.

##### - Pair programming

programmers working in pairs, developing code together.

**好处**：

- This helps develop common ownership of code and spreads knowledge across the team. (无私编程的思想，软件由团队整体所有，个人不对代码中的问题负责)
- It serves as an informal review process as each line of code is looked at by more than 1 person.
- It encourages refactoring as the whole team can benefit from improving the system code. （因为有共同的所有权）

两个人用同一台电脑开发

- Pairs are created dynamically （结对的程序员动态确定，让所有成员都能一起工作）

- Sharing of knowledge during pair programming is very important.
- Pair programming is **not necessarily inefficient**

### Agile project management

SW项目管理人员的主要职责：确保项目是否满足目标并在预算范围内按时交付。

The standard approach to project management is plan-driven.

Agile project management requires a different approach

#### Scrum

Scrum is an agile method that **focuses on managing iterative development** rather than specific agile practices.

##### Scrum terminology术语

![image-20200816211203305](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816211203305.png?lastModify=1597739918)

![image-20200816211220312](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816211220312.png?lastModify=1597739918)

##### Scrum sprint cycle

![image-20200816211825833](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816211825833.png?lastModify=1597739918)

![image-20200816212154248](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816212154248.png?lastModify=1597739918)

**优点：**

- 产品被分解称可管理、可理解、利益的小块
- 不稳定的需求不会影响进度
- 整个团队都对所有的一切保持可见，团队的交流沟通得到提升
- 客户可以按时看到增量交付，并获得关于产品如何工作的反馈。
- 客户和开发者之间建立了信任。

#### 分布式的Scrum

**（最初Scrum适用于同处一地的团队，每天可以一起参加站立式会议）**

**针对分布式开发环境和多团队工作进行改进**

![image-20200816212930311](file:///Users/%E9%A1%B9%E5%90%9B%E6%9D%B0/Library/Application%20Support/typora-user-images/image-20200816212930311.png?lastModify=1597739918)

### Scaling agile methods

Agile 在由同一地点的团队开发的中小型项目非常成功。

Scaling up agile methods to **cope with larger, longer projects** 由不同地方的开发团队开发的。

- **Scaling up:** for **developing large software** that cannot be developed by a small team.
- **Scaling out:** how agile methods can **be introduced across a large organization** with many years of software development experience.

Scaling agile时需要保证agile的基本信息：**Flexible planning, frequent system release, continuous integration, test-driven development and team communication**

#### - Practical problems with agile methods

- agile 的非正式性与基于法律的合同定义不同

  - 许多合同是基于需求文档的，但agile没有。

- agile适合于新的软件开发而不是软件维护

  - 大多组织在软件维护上花费比开发新软件更多

  **三个问题：**

  - 缺少产品文档（agile emphasis in the development process of minimizing formal documentation）
  - 保持客户参与（维护过程中变化并不持续发生，客户代表容易失去兴趣）
  - 开发团队的延续性（agile依赖于团队人员在没有文档的情况下理解系统的各个方面）

- agile适合于小的、同处一地的团队。

#### - Agile and plan-driven methods

**Deciding on the balance of plan-driven and agile processes:**

- 在开始之前有一个非常详细的规格说明和设计很重要吗？如果是，可能需要plan-driven
- 增量交付策略，即向客户交付软件并获得来自他们的快速反馈现实吗？如果现实就考虑agile
- 需要开发多大的系统？agile在系统由一个相对较小且处于同一地点、可以进行非正式交流的团队开发时最有效。大型的系统要求更大的开发团队，所以plan-driven方法可能被使用。

---

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200818190702601.png" alt="image-20200818190702601" style="zoom:50%;" />

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200818190757100.png" alt="image-20200818190757100" style="zoom:50%;" />

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200818191212675.png" alt="image-20200818191212675" style="zoom:50%;" />

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200818191351172.png" alt="image-20200818191351172" style="zoom:50%;" />

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200818191615636.png" alt="image-20200818191615636" style="zoom:50%;" />

#### - Agile methods for large systems

**问题：**

- large system are collections of separate, communicating systems， 独立团队分别开发每个系统（难以沟通）
- Large system are 'brownfield systems', 包含一些现有系统并与之交互（难以实现增量交付）。
- Where several systems are integrated to create a system, a significant fraction of the development is concerned with **system configuration** rather than original code development.
- system development processes are constrained by external rules and regulations
- Large system have long procurement and development time (团队难以长时间维持)
- large system have a diverse set of stakeholders (难有代表所有人的客户代表)

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200818192646069.png" alt="image-20200818192646069" style="zoom:50%;" />



**Scaling up to large system:**

- A completely incremental approach to requirements engineering is impossible. 需要一个初始的软件需求，开发人员通过需求来初步分工，之后的细节可以增量地开发
- There cannot be a single product owner or customer representative 不同的人参与系统的不同部分，他们必须在整个开发过程中持续第交流和协商
- For large systems development, it is not possible to focus only on the code of the system. 必须设计软件体系结构，必须产生一些描述系统关键方面的文档。
- Cross-team communication mechanisms have to be designed and used.
- Continuous integration is practically impossible

**Multi-team Scrum 关键特性：**

- Role replication

  每个团队都有一个Product Owner 和 Scrum Master

- Product architects

  每个团队一个Product architects，他们相互协作对整体的系统体系结构进行设计和演化

- Release alignment

  对每个团队的产品发布日期进行同步

- Scrum of Scrums

  Scrum团队之间每天进行站立式会议，来自各个团队的代表会面讨论进度、发现问题并且计划当前要做的工作。

#### - Agile methods across organization

向organization引入agile的困难：

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200818194310445.png" alt="image-20200818194310445" style="zoom:50%;" />

### Key points

- Agile methods are incremental development methods that **focus on rapid SW development, frequent SW releases, reducing process overheads by minimizing documentation and producing high-quality code.**

  **Agile development practices include：**

  - *User stories for system specification* 
  - *Frequent releases of the software*
  - *pair programming*
  -  *Continuous software improvement*
  - *Test-first development*
  - *Customer participation in the development team.*

- Scrum is an agile method that **provides a project management framework.** Scrum开发围绕一组冲刺开展，每次冲刺都是一个开发系统增量的固定时长的期间。制定计划的方式是对待办事项进行优先级排序并为下一个冲刺选取优先级最高的任务。
- Many practical development methods are a mixture of plan-based and agile development
- Scaling agile methods for large systems is difficult.





# Topic 4 Requirement Engineering

**什么是requirements：** *It may range from a high-level abstract statement of a service or of a system constraint to a detailed mathematical functional specification.*

**Types of requirement：** 

- **User requirements:** *Statements in natural language plus diagrams of the services the system provides and its operational constraints. **Written for customers.***（可以是大概陈述，也可以是系统功能的详细描述）
- **System requirements:** ***A structured document** setting out detailed descriptions of the* *system’s* *functions, services and operational constraints. Defines what should be implemented so **may be part of a contract between client and contractor.*** （非常详细）

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819155920875.png" alt="image-20200819155920875" style="zoom:33%;" />

**系统的利益相关者（stakeholders）种类：** End users, System managers, system owners, ecternal stakeholders.



Agile认为详细的需求文档在遇到需求变更时会非常浪费时间，所以通常采用incremental   requirements engineering and may express requirements as 'User stories.'

对于大多大型系统（一些critical system要求pre-delivery analysis），在系统实现开始之前存在一个清晰的、可识别的需求工程阶段。本章讲传统的需求工程。

### Functional and non-functional requirements

#### Functional requirements

- *Statements of *
  - *services the system should provide*
  - *how the system should react to particular inputs*
  - *how the system should behave in particular situations.*
- *May state what the system should not do.*

这些需求取决于the type of software, expected users and the type of system where the software is used.

Requirements imprecision（需求不明确）：导致用户和开发者采用不同的解释

**Requirements completeness and consistency（需求应当保证完整性与一致性）**：

- Complete：Include descriptions of all facilities required
- Consistent：should be no conflicts or contradictions in the descriptions of the system facilities.

实践中，很难保持完整性与一致性。大型系统容易遗漏，利益相关者过多导致需求不一致。

#### Non-functional requirements

- *Constraints on the services or functions offered by the system such as **timing constraints, constraints on the development process, standard**s, etc.*
- *Often apply to the system as a whole rather than individual features or services.*

**Non-functional requirements may be more critical than functional requirements. If these are not met, the system may be useless.**

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819170055667.png" alt="image-20200819170055667" style="zoom:50%;" />

**非功能需求的实现经常跨越整个系统，原因：**

- 非功能需求可能会影响overall architecture of a system rather than the individual components
- 一个非功能需求，例如安全需求，可能产生多个相互联系的功能需求。

**分类：**

- Product requirements

  效率需求：运行得多快，需要多少存储；可依赖性需求：设定可接受的系统失效率；

  信息安全需求和可用性需求

- Organisational requirements

- External requirements： interoperability（互操作性） requirements， legislative requirement

**非功能需求很难精准地表述，difficult to verify** 所以要尽可能地使用 *A statement using some measure that can be objectively tested.*

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819174632650.png" alt="image-20200819174632650" style="zoom:50%;" />

#### Domain requirements

- *Constraints on the system from the domain of operation*

### Requirements engineering processes

### RE processes

- Requirements elicitation
- Requirements analysis
- Requirements validation
- Requirements management

### Requirements elicitation（抽取）

Involve end-users, managers, engineers. They are called stakeholder.

#### Problems

- stakeholders don't know what they really want
- Stackholders express requirements in their own terms
- Different stakeholders may have conflicting requirements
- Organisational and political factors may influence the system requirements
- The requirements change during the analysis process. New stakeholders may emerge and the business environment may change.

#### Stages

- Requirements discovery
- Requirements classification and organization
- Requirements prioritization and negotiation
- Requirements specification

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819194035641.png" alt="image-20200819194035641" style="zoom: 50%;" />

#### 需求抽取技术

- Interviewing

  - Closed interviews based on pre-determined list of questions
  - Open interview where various issues are explored with stakeholders.

  **Problems**

  - Application specialists use language to describe their work that isn't easy for the requirements engineer to understand
  - Interviews are not good for understanding domain requirements. 

- Stories and scenarios

  - Stories and scenarios are a description of how a system may be used for a particular task.

  Scenarios should include:

  - A description of the starting situation;
  - A description of the normal flow of events;
  - A description of what can go wrong;
  - Information about other concurrent activities;
  - A description of the state when the scenario finishes.

### Requirements specification

**The process of writing the user and system requirements in a requirements document.**

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819200424285.png" alt="image-20200819200424285" style="zoom:50%;" />

#### 自然语言需求指南：

- 同一种格式
- 以一致的方法使用语言
- 使用强调行的文本来突出需求中的关键部分
- 避免使用专业术语
- 解释为什么这项需求是必要的

#### Structured specification

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819201531332.png" alt="image-20200819201531332" style="zoom:50%;" />

#### Use cases

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819201709790.png" alt="image-20200819201709790" style="zoom:50%;" />

#### Software requirements document

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819201735567.png" alt="image-20200819201735567" style="zoom:50%;" />

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819201914597.png" alt="image-20200819201914597" style="zoom:50%;" />

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819202031692.png" alt="image-20200819202031692" style="zoom:50%;" />

### Requirements validation

**Concerned with demonstrating that the requirements define the system that the customer really wants.**

**Requirements error costs are high so validation is very important**

#### 需求检查

- Validity：检查需求是否反映了系统用户的真实需要

- Consistency：文档中的需求不应该冲突

- Completeness：需求文档中的需求应当定义系统用户想要的所有功能以及约束

- Realism：对需求进行检查以确保它们可以在系统预算范围内实现

- Verifiability：所有的需求都是可验证的。（能针对每一条所刻画的需求编写一组测试）

#### 需求确认技术：

- Requirements reviews: 系统地评审需求。

- Prototyping: 开发一个可执行的系统原型，确认是否满足客户期望。

- Test-case generation: 开发针对需求的测试用例。

### Requirements change

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819203435995.png" alt="image-20200819203435995" style="zoom:50%;" />

#### Requirements change management

**Deciding if a requirements change should be accepted:**

- Problem analysis and change specification
- Change analysis and costing
- Change implementation

<img src="/Users/项君杰/Library/Application Support/typora-user-images/image-20200819203749992.png" alt="image-20200819203749992" style="zoom:50%;" />

### Key points

需求工程过程是一个包含了需求抽取（elicitation），需求明确（specification）和需求确认（validation）的迭代化过程。

需求抽取事一个可以被表示为活动螺旋的迭代化过程，活动包括需求发现、需求分类和组织、需求协商、需求文档化。

可以用一系列技术进行需求抽取，包括interviews 和 ethnography（人类学调查）。User stories and scenarios may be used to facilitate discussions.

Requirements specification是正式地描述用户系统需求并创建一个软件需求文档的过程。

软件需求文档是对于系统需求的一个达成共识的陈述。应当对文档进行组织，以便系统客户和软件开发者都可以使用它。

Requirements validation 是检查需求的 validity, consistency, completeness, realism and verifiability 的过程

Business,， organizational and technical changes 会不可避免地导致软件系统需求的变化。需求管理是管理并控制这些变化的过程。